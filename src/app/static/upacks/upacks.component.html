<app-header></app-header>

  
<section id="tabs">
  <mat-card>
  <mat-tab-group>
    <!-- search tab -->
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon>search</mat-icon>
        Search UPacks
      </ng-template>

      <aside>
        <div class="content">

          <h2>Search UPacks to buy</h2>
          <div class="dropdown">
            <mat-form-field>
              <mat-label>Sim </mat-label>
              <mat-select (selectionChange)="onSearchDropdownChange()" [(value)]="selectedVal">
                <mat-option [value]="option.value" *ngFor="let option of simDropdownData">{{ option.viewValue }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>


        </div>



        <table mat-table [dataSource]="tableDataSource" class="mat-elevation-z8">


          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Name </th>
            <td mat-cell *matCellDef="let element"> {{element.name}} </td>
          </ng-container>

          <ng-container matColumnDef="by">
            <th mat-header-cell *matHeaderCellDef> By </th>
            <td mat-cell *matCellDef="let element"> {{element.by}} </td>
          </ng-container>

          <ng-container matColumnDef="cars">
            <th mat-header-cell *matHeaderCellDef> Cars </th>
            <td mat-cell *matCellDef="let element"> {{element.cars}} </td>
          </ng-container>

          <ng-container matColumnDef="tracks">
            <th mat-header-cell *matHeaderCellDef> Tracks </th>
            <td mat-cell *matCellDef="let element"> {{element.tracks}} </td>
          </ng-container>

          <ng-container matColumnDef="laps">
            <th mat-header-cell *matHeaderCellDef> Laps </th>
            <td mat-cell *matCellDef="let element"> {{element.laps}} </td>
          </ng-container>

          <ng-container matColumnDef="setups">
            <th mat-header-cell *matHeaderCellDef> Setups </th>
            <td mat-cell *matCellDef="let element"> {{element.setups}} </td>
          </ng-container>

          <ng-container matColumnDef="subs">
            <th mat-header-cell *matHeaderCellDef> Subs </th>
            <td mat-cell *matCellDef="let element">
              {{element.subs}}
            </td>
          </ng-container>

          <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef> Price </th>
            <td mat-cell *matCellDef="let element">
              {{element.price}}
            </td>
          </ng-container>
          <ng-container matColumnDef="goto">
            <th mat-header-cell *matHeaderCellDef> Go To </th>
            <td mat-cell *matCellDef="let element">
              <mat-icon 
               class="color4">insights</mat-icon>
            </td>
          </ng-container>

          <ng-container matColumnDef="visibility">
            <th mat-header-cell *matHeaderCellDef> Visibility </th>
            <td mat-cell *matCellDef="let element">

              <mat-icon class="color2" 
                style="cursor: pointer;">visibility_off</mat-icon>


            </td>
          </ng-container>

          <ng-container matColumnDef="addIcon">
            <th mat-header-cell *matHeaderCellDef> </th>
            <td mat-cell *matCellDef="let element" (click)="openAddStintDialog()">
              <mat-icon class="color4"
                style="cursor: pointer;">add_shopping_cart_</mat-icon>
            </td>
          </ng-container>



          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </aside>


    </mat-tab>

    <!-- edit tab -->
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon class="example-tab-icon">edit</mat-icon> Edit My Upack
      </ng-template>
      <aside>
        <div class="content">
          <h2>Edit UPacks </h2>
          <p>Select Sim to edit its UPacks:</p>

          <div>
            <mat-selection-list [multiple]="false">
              <mat-list-option *ngFor="let item of simDropdownData">
                <div  class="listItem" (click)="openAddStintDialog()">
                  <mat-icon mat-list-icon>view_module</mat-icon>
                  <div mat-line class="text">{{item.viewValue}}</div>
  
                </div>
               
              </mat-list-option>
            </mat-selection-list>
          </div>
        </div>
      </aside>

    </mat-tab>

    <!-- create tab -->
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon>save</mat-icon> Create New UPack
      </ng-template>
      <aside>
        <div class="content">
          <h2>Create New UPack </h2>
          <form>
            <div class="dropdown">
              <mat-form-field>
                <mat-label>Sim </mat-label>
                <mat-select required #sim="ngModel" name="sim" [(ngModel)]="selectedDropdownInCreate">
                  <mat-option [value]="option.value" *ngFor="let option of simDropdownData">{{ option.viewValue }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>

            <div class="checkbox">
              <mat-checkbox name="isSupported" [checked]="true" disabled>Free? (currently only free UPacks are
                supported)</mat-checkbox>
            </div>


            <mat-form-field>
              <mat-label>Price</mat-label>
              <input matInput name="price" value="0" disabled>
            </mat-form-field>

            <mat-form-field>
              <mat-label>New UPack Name </mat-label>
              <input matInput name="upackName" #upackName="ngModel" required [(ngModel)]="AddUpack.name">
            </mat-form-field>
            <div mat-dialog-actions>
              <button mat-raised-button class="bgColor1 color5" [disabled]="upackName.invalid || sim.invalid"
                (click)="upackSave()">Submit</button>
            </div>

          </form>
        </div>
      </aside>
    </mat-tab>
  </mat-tab-group>
</mat-card>
</section>


